<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClipMaster Pro - Free Video Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.4/dist/ffmpeg.min.js"></script>
    <style>
        /* [Keep all your existing CSS styles] */
        /* ... (paste your full CSS from earlier here) ... */
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-cut"></i>
                </div>
                <h1>ClipMaster Pro</h1>
            </div>
            <p class="subtitle">The ultimate browser-based video editor - 100% free with no watermarks</p>
            <div class="badge-container">
                <div class="badge"><i class="fas fa-shield-alt"></i> Complete Privacy</div>
                <div class="badge"><i class="fas fa-ban"></i> Zero Watermarks</div>
                <div class="badge"><i class="fas fa-bolt"></i> Basic AI Tools</div>
                <div class="badge"><i class="fas fa-gift"></i> Free Forever</div>
            </div>
        </header>
        
        <!-- Simplified Usage Meter -->
        <div class="usage-meter">
            <div class="usage-header">
                <span>Free Clips Remaining</span>
                <span id="clipsUsed">25</span>/25
            </div>
            <div class="usage-progress">
                <div class="usage-progress-fill" id="usageProgress" style="width: 0%"></div>
            </div>
            <div class="usage-text" id="usageText">Free version: 25 clips per month</div>
        </div>
        
        <!-- [Keep all your feature cards but remove premium mentions] -->
        <div class="features">
            <div class="feature-card">
                <h3><i class="fas fa-user-lock"></i> Military-Grade Privacy</h3>
                <p>All processing happens locally in your browser. Your videos never leave your computer.</p>
            </div>
            <!-- ... other feature cards ... -->
        </div>
        
        <!-- [Keep your full editor interface] -->
        <div class="editor-container">
            <!-- ... paste your full editor HTML here ... -->
        </div>

        <footer>
            <p><span class="pulse"></span> All processing happens locally in your browser</p>
            <p>Â© 2023 ClipMaster Pro - Free Browser Video Editor | No Tracking | No Accounts Required</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize FFmpeg
            const { createFFmpeg, fetchFile } = FFmpeg;
            const ffmpeg = createFFmpeg({ 
                log: true,
                corePath: 'https://unpkg.com/@ffmpeg/core@0.11.0/dist/ffmpeg-core.js'
            });
            
            let isFFmpegLoaded = false;
            let currentVideo = {
                file: null,
                name: "",
                duration: 0,
                startTime: 0,
                endTime: 0,
                brightness: 100,
                contrast: 100,
                volume: 100
            };
            
            // Track free clip usage
            let freeClipsUsed = 0;
            const MAX_FREE_CLIPS = 25;
            
            function updateUsageDisplay() {
                document.getElementById('clipsUsed').textContent = MAX_FREE_CLIPS - freeClipsUsed;
                document.getElementById('usageProgress').style.width = `${(freeClipsUsed / MAX_FREE_CLIPS) * 100}%`;
            }
            
            // [Keep all your existing video processing code]
            // ... (paste your video handling code from earlier) ...
            
            // Modified export function with free limit
            async function exportVideo() {
                if (freeClipsUsed >= MAX_FREE_CLIPS) {
                    showStatus(`Free limit reached (${MAX_FREE_CLIPS} clips/month)`, "error");
                    return;
                }
                
                if (!currentVideo.file) {
                    showStatus("Please upload a video first", "error");
                    return;
                }
                
                try {
                    showStatus("Processing your video clip...", "processing");
                    
                    // Load FFmpeg if needed
                    if (!isFFmpegLoaded) {
                        await ffmpeg.load();
                        isFFmpegLoaded = true;
                    }
                    
                    // Process video
                    const data = await fetchFile(currentVideo.file);
                    ffmpeg.FS('writeFile', 'input.mp4', data);
                    await ffmpeg.run(
                        '-i', 'input.mp4',
                        '-ss', currentVideo.startTime.toString(),
                        '-to', currentVideo.endTime.toString(),
                        '-c', 'copy',
                        'output.mp4'
                    );
                    
                    // Create download
                    const outputData = ffmpeg.FS('readFile', 'output.mp4');
                    const url = URL.createObjectURL(new Blob([outputData.buffer], { type: 'video/mp4' }));
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `${currentVideo.name}-clipped.mp4`;
                    a.click();
                    
                    // Update usage
                    freeClipsUsed++;
                    updateUsageDisplay();
                    showStatus("Export successful! Download started.", "success");
                    
                } catch (error) {
                    showStatus("Error: " + error.message, "error");
                }
            }
            
            // Connect export button
            document.getElementById('exportBtn').addEventListener('click', exportVideo);
            document.getElementById('finalExportBtn').addEventListener('click', exportVideo);
            
            // [Keep all your other existing functionality]
            // ... (UI controls, event listeners, etc.) ...
        });
    </script>
</body>
</html>
            
          